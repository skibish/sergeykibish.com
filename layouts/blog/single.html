{{define "title"}}
Sergey's Blog: {{ .Title }}
{{end}}

{{define "main"}}
<article>
  <h1>{{ .Title }}</h1>
  <p>
    {{ dateFormat "Jan 2, 2006" .Date }}
    ({{.ReadingTime}} minutes read
    {{- with .Params.Canonical -}}
    {{- $url := urls.Parse . -}}
    , first time published on <a href="{{ . }}" rel="noopener noreferrer" target="_blank">{{$url.Host}}</a>
    {{- end -}}
    )
  </p>
  <hr/>
  <div class="row">
    <div class="col-sm-12 col-xl-9">
      {{ .Content }}  
    </div>
    <aside class="d-none d-xl-block col-xl-3 toc">{{.TableOfContents}}</aside>
  </div>
  
  {{with .NextInSection}}<a href="{{.Permalink}}" class="float-right">Next post &rarr;</a>{{end}}
  {{with .PrevInSection}}<a href="{{.Permalink}}">&larr; Previous post</a>{{end}}
  <div class="clearfix"></div>
</article>

<section class="comments">
  {{ template "_internal/disqus.html" . }}
</section>

{{end}}

{{define "scripts"}}
<script>
  document.querySelectorAll('.footnote-backref').forEach(el => el.text = '[return]');
</script>
{{end}}
